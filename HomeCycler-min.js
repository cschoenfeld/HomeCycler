var HomeCycler=Class.create({initialize:function(a){this.cycle_duration=(a.cycle_duration)?a.cycle_duration:4000;this.fade_speed=(a.fade_speed)?a.fade_speed:0.4;this.slideclass=(a.slideclass)?a.slideclass:"slide";this.homeslide=0;this.slides=$$("."+this.slideclass);this.after_advance=(a.after_advance)?a.after_advance:(function(){return true});this.mode=(a.mode&&a.mode=="crossfade")?"crossfade":"sequential";this.auto_advance=(a.auto_advance&&a.auto_advance=="suppress")?false:true},cycle_slides:function(){if(this.slides[this.homeslide+1]){this.force_slide(this.homeslide+2)}else{this.force_slide(1)}},cycle_back:function(){if(this.slides[this.homeslide-1]){this.force_slide(this.homeslide)}else{this.force_slide(this.slides.size())}},crossfade_slide:function(b){var a=b-1;if(this.slides[a]){clearInterval(this.cyc);this.slides[this.homeslide].setStyle("z-index: 2");this.slides[a].setStyle("z-index: 1; display: block; opacity: 1.0;");if(Prototype.Browser.IE===true){this.slides[this.homeslide].style.display="none";this.slides[this.homeslide].setStyle("z-index: 1");this.homeslide=a;if(typeof this.after_advance=="function"){this.after_advance(this)}}else{new Effect.Opacity(this.slides[this.homeslide],{from:1,to:0,duration:this.fade_speed,afterFinish:(function(){this.slides[this.homeslide].style.display="none";this.slides[this.homeslide].setStyle("z-index: 1");this.homeslide=a;if(typeof this.after_advance=="function"){this.after_advance(this)}}).bind(this)})}if(this.auto_advance!==false){this.cyc=setInterval(this.cycle_slides.bind(this),this.cycle_duration)}}return true},force_slide:function(b){if(this.mode=="crossfade"){return this.crossfade_slide.bind(this)(b)}var a=b-1;if(this.slides[a]){clearInterval(this.cyc);if(Prototype.Browser.IE===true){this.slides[this.homeslide].style.display="none";this.slides[a].style.opacity=1;this.slides[a].style.display="block";this.homeslide=a;if(typeof this.after_advance=="function"){this.after_advance(this)}}else{this.slides[a].style.opacity=0;this.slides[a].style.display="block";new Effect.Opacity(this.slides[this.homeslide],{from:1,to:0,duration:this.fade_speed,afterFinish:(function(){this.slides[this.homeslide].style.display="none";new Effect.Opacity(this.slides[a],{from:0,to:1,duration:this.fade_speed});this.homeslide=a;if(typeof this.after_advance=="function"){this.after_advance(this)}}).bind(this)})}if(this.auto_advance!==false){this.cyc=setInterval(this.cycle_slides.bind(this),this.cycle_duration)}}},begin:function(){if(this.slides.size()>0&&this.auto_advance!==false){this.cyc=setInterval(this.cycle_slides.bind(this),this.cycle_duration)}},stopCycling:function(){this.auto_advance=false;clearInterval(this.cyc)}});